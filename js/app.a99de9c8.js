(function(t){function e(e){for(var i,n,o=e[0],l=e[1],u=e[2],d=0,m=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},r={app:0},s=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),r=a.n(i);r.a},"0ea0":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header",{key:t.$route.fullPath}),a("br"),a("div",{staticClass:"uk-container"},[a("router-view")],1),a("Footer")],1)},s=[],n=a("8323"),o=a.n(n),l=a("263c"),u=a.n(l),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",{staticStyle:{"background-color":"#fff"},attrs:{id:"header","data-uk-sticky":"show-on-up: true; animation: uk-animation-fade; media: @l"}},[a("div",{staticClass:"uk-container"},[a("nav",{attrs:{id:"navbar","data-uk-navbar":"mode: click;"}},[a("div",{staticClass:"uk-navbar-left nav-overlay uk-visible@m"},[a("ul",{staticClass:"uk-navbar-nav"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Accueil")])],1),a("li",[a("router-link",{attrs:{to:"/articles"}},[t._v("Articles")])],1),t.login?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Connexion")])],1),t.login?t._e():a("li",[a("router-link",{attrs:{to:"/register"}},[t._v("Inscription")])],1),t.login?a("li",[a("router-link",{attrs:{to:"/admin"}},[t._v("Back-office")])],1):t._e(),t.login?a("li",{on:{click:t.logout}},[a("a",{attrs:{href:"#"}},[t._v(" déconnexion ")])]):t._e()])]),t._m(0),t._m(1)])])]),t._m(2)])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-navbar-right nav-overlay"},[a("a",{staticClass:"uk-navbar-toggle uk-visible@m",attrs:{"data-uk-search-icon":"","data-uk-toggle":"target: .nav-overlay; animation: uk-animation-fade",href:"#"}}),a("div",{staticClass:"uk-navbar-item"},[a("a",{staticClass:"uk-navbar-toggle uk-hidden@m",attrs:{"data-uk-toggle":"","data-uk-navbar-toggle-icon":"",href:"#offcanvas-nav"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-overlay uk-navbar-left uk-flex-1",attrs:{hidden:""}},[a("div",{staticClass:"uk-navbar-item uk-width-expand"},[a("form",{staticClass:"uk-search uk-search-navbar uk-width-1-1"},[a("input",{staticClass:"uk-search-input",attrs:{type:"search",placeholder:"Search..."}})])]),a("a",{staticClass:"uk-navbar-toggle",attrs:{"data-uk-close":"","data-uk-toggle":"target: .nav-overlay; animation: uk-animation-fade",href:"#"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"offcanvas-nav","uk-offcanvas":"overlay: true"}},[a("div",{staticClass:"uk-offcanvas-bar"},[a("ul",{staticClass:"uk-nav uk-nav-default"},[a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#"}},[t._v("Accueil")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("Articles")])]),a("li",[a("a",{attrs:{href:"#"}},[t._v("Connexion")])])])])])}],m={name:"headerBlog",data:function(){return{login:null}},methods:{logout:function(){this.$token.clear(),this.$router.push("/")}},mounted:function(){this.$token.getItem("auth-token")&&(this.login=!0)}},p=m,h=a("2877"),g=Object(h["a"])(p,c,d,!1,null,null,null),f=g.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"uk-section uk-section-small uk-section-muted"},[a("div",{staticClass:"uk-container"},[a("p",{staticClass:"uk-text-small uk-text-center"},[t._v("Copyright 2019 - "),a("a",{attrs:{href:"https://github.com/zzseba78/Kick-Off"}},[t._v("Created by KickOff")]),t._v(" | Built with "),a("a",{attrs:{href:"http://getuikit.com",title:"Visit UIkit 3 site",target:"_blank","data-uk-tooltip":""}},[a("span",{attrs:{"data-uk-icon":"uikit"}})])])])])}],_={name:"footerBlog"},b=_,C=Object(h["a"])(b,v,k,!1,null,null,null),y=C.exports;o.a.use(u.a);var w={name:"app",components:{Header:f,Footer:y}},x=w,$=(a("034f"),Object(h["a"])(x,r,s,!1,null,null,null)),A=$.exports,E=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uk-grid",attrs:{"data-ukgrid":""}},[t._l(t.articles,(function(e){return a("div",{key:e.id,staticClass:"uk-width-2-3@m"},[a("h4",{staticClass:"uk-heading-line uk-text-bold"},[a("span",[t._v(t._s(e.category.name))])]),a("article",{staticClass:"uk-section uk-section-small uk-padding-remove-top"},[a("div",[a("h2",{staticClass:"uk-margin-remove-adjacent uk-text-bold uk-margin-small-bottom"},[a("a",{staticClass:"uk-link-reset",attrs:{title:"Fusce facilisis tempus magna ac dignissim.",href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"uk-article-meta"},[t._v("Article publié le : "+t._s(t.format_date(e.createdAt)))])]),a("figure",[a("img",{staticClass:"lazy",attrs:{src:e.image_name,"data-src":e.image_name,width:"800",height:"300",alt:e.image_name,"data-uk-img":""}}),a("figcaption",{staticClass:"uk-padding-small uk-text-center uk-text-muted"},[t._v("Caption of the image")])]),a("p",[t._v(" "+t._s(e.description)+" ")]),a("a",{staticClass:"uk-button uk-button-default uk-button-small",attrs:{href:"#",title:"Read More"}},[t._v("Lire l'article")]),a("hr")])])})),t._m(0)],2)])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-width-1-3@m"},[a("h4",{staticClass:"uk-heading-line uk-text-bold"},[a("span",[t._v("Archive")])]),a("ul",{staticClass:"uk-list"},[a("li",[a("a",{attrs:{href:""}},[t._v("March")])]),a("li",[a("a",{attrs:{href:""}},[t._v("February")])])])])}],j=(a("b0c0"),a("d3b7"),a("25f0"),a("4d90"),a("bc3a")),N=a.n(j),S={name:"ArticleBlog",data:function(){return{articles:null}},created:function(){"home"===this.$router.currentRoute.name?document.title="Accueil":"articles"===this.$router.currentRoute.name&&(document.title="Liste des articles")},mounted:function(){var t=this;N.a.get("https://127.0.0.1:8000/api/articles").then((function(e){t.articles=e.data}))},methods:{format_date:function(t){if(t){var e=new Date(t),a=e.getFullYear(),i=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours(),n=e.getMinutes();return i+"/"+r+"/"+a+" à "+s+":"+(n<10?"0":"")+n}}}},L=S,F=Object(h["a"])(L,P,O,!1,null,null,null),I=F.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uk-width-medium uk-padding-small"},[a("form",{staticClass:"toggle-class",on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("fieldset",{staticClass:"uk-fieldset"},[a("div",{staticClass:"uk-margin-small"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[a("span",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"data-uk-icon":"icon: user"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"uk-input uk-border-pill",attrs:{required:"",placeholder:"Username",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),a("div",{staticClass:"uk-margin-small"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[a("span",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"data-uk-icon":"icon: lock"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"uk-input uk-border-pill",attrs:{required:"",placeholder:"Password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._m(0),t._m(1)])]),t._m(2),t._m(3)])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin-small"},[a("label",[a("input",{staticClass:"uk-checkbox",attrs:{type:"checkbox"}}),t._v(" Keep me logged in")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin-bottom"},[a("button",{staticClass:"uk-button uk-button-primary uk-border-pill uk-width-1-1",attrs:{type:"submit"}},[t._v("LOG IN")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"toggle-class",attrs:{action:"login-dark.html",hidden:""}},[a("div",{staticClass:"uk-margin-small"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[a("span",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"data-uk-icon":"icon: mail"}}),a("input",{staticClass:"uk-input uk-border-pill",attrs:{placeholder:"E-mail",required:"",type:"text"}})])]),a("div",{staticClass:"uk-margin-bottom"},[a("button",{staticClass:"uk-button uk-button-primary uk-border-pill uk-width-1-1",attrs:{type:"submit"}},[t._v("SEND PASSWORD")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uk-text-center"},[a("a",{staticClass:"uk-link-reset uk-text-small toggle-class",attrs:{"data-uk-toggle":"target: .toggle-class ;animation: uk-animation-fade"}},[t._v("Forgot your password?")]),a("a",{staticClass:"uk-link-reset uk-text-small toggle-class",attrs:{"data-uk-toggle":"target: .toggle-class ;animation: uk-animation-fade",hidden:""}},[a("span",{attrs:{"data-uk-icon":"arrow-left"}}),t._v(" Back to Login")])])])}],T=a("d4ec"),U=a("bee2"),z=function(){function t(){Object(T["a"])(this,t)}return Object(U["a"])(t,[{key:"loginUser",value:function(t,e){N.a.post(i["a"].prototype.$hostName+"/login_check",{"Content-Type:":"application/json",username:t,password:e}).then((function(t){200===t.status&&(i["a"].prototype.$token.setItem("auth-token",t.data.token),i["a"].prototype.$login=!0,Ft.push({path:"/"}))})).catch((function(t){window.console.log(t)}))}},{key:"checkLogin",value:function(){var t=new FormData;t.append("authorization",i["a"].prototype.$token.getItem("auth-token")),N.a.post(i["a"].prototype.$hostName+"/check/login/verifiy/token",{},{headers:{authorization:i["a"].prototype.$token.getItem("auth-token")}}).then((function(t){200===t.status&&(i["a"].prototype.$token.getItem("auth-token")||Ft.push({path:"/login"}))})).catch((function(t){400===t.status&&(i["a"].prototype.$token.clear(),Ft.push({path:"/login"}))}))}}]),t}(),q=new z,B={name:"login",data:function(){return{username:null,password:null,error:null}},created:function(){document.title="Connexion"},methods:{loginUser:function(){q.loginUser(this.username,this.password)}}},R=B,H=Object(h["a"])(R,M,D,!1,null,null,null),K=H.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"uk-section uk-section-xsmall",attrs:{"uk-height-viewport":"offset-top: true"}},[a("div",{staticClass:"uk-container"},[a("div",{staticClass:"uk-flex uk-flex-center"},[a("div",{staticClass:"uk-card uk-card-default uk-card-hover uk-card-body uk-width-large"},[a("h3",[t._v("Register")]),a("form",{staticClass:"uk-form-stacked",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.checkForm(e)}}},[a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"username"}},[t._v(" Username ")]),a("div",{staticClass:"uk-form-controls"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"uk-input",attrs:{id:"username",name:"username",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t.errorUsername?a("div",{staticClass:"error"},[t._v(" "+t._s(t.errorUsername)+" ")]):t._e()])]),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"email"}},[t._v(" Email ")]),a("div",{staticClass:"uk-form-controls"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"uk-input",attrs:{id:"email",name:"email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t.errorEmail?a("div",{staticClass:"error"},[t._v(" "+t._s(t.errorEmail)+" ")]):t._e()])]),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"password"}},[t._v(" Password ")]),a("div",{staticClass:"uk-form-controls"},[a("div",{staticClass:"uk-inline uk-width-1-1"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"uk-input",attrs:{id:"password",name:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.errorPassword?a("div",{staticClass:"error"},[t._v(" "+t._s(t.errorPassword)+" ")]):t._e()])]),t._m(3),a("button",{staticClass:"uk-button uk-button-primary uk-width-1-1",attrs:{type:"submit"}},[t._v("Register")])])])])])])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-tooltip":"title: Alpha-numeric characters.<br>Minimum 3 characters.<br>Maximum 16 characters.<br>This field is required.; pos: bottom-right"}},[a("i",{staticClass:"fas fa-info-circle"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-tooltip":"title: Must be a valid email.<br>One account per email.<br>This field is required.; pos: bottom-right"}},[a("i",{staticClass:"fas fa-info-circle"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-tooltip":"title: Minimum 8 characters.<br>This field is required.; pos: bottom-right"}},[a("i",{staticClass:"fas fa-info-circle"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin"},[a("label",[a("input",{staticClass:"uk-checkbox",attrs:{name:"terms_of_service",type:"checkbox"}}),t._v(" I accept the "),a("a",{attrs:{href:""}},[t._v("terms of service")]),t._v(". ")])])}],G={name:"register",data:function(){return{username:"",email:"",password:"",errorUsername:"",errorEmail:"",errorPassword:""}},created:function(){document.title="Inscription"},methods:{checkForm:function(){var t=this;this.username||(this.errorUsername="Username est obligatoire"),this.email||(this.errorEmail="Email est obligatoire"),this.password||(this.errorPassword="Le mot de passe est obligatoire"),this.username&&this.email&&this.password&&(this.errorUsername="",this.errorEmail="",this.errorPassword="",N.a.post("https://127.0.0.1:8000/api/register",{username:this.username,email:this.email,password:this.password,"Content-Type":"application/x-www-form-urlencoded"}).then((function(e){t.errorEmail=e.data.email[0],t.errorUsername=e.data.username[0]})))}}},V=G,W=(a("f30e"),Object(h["a"])(V,Y,J,!1,null,null,null)),Q=W.exports,X=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(" error 404 ")])])}],tt={name:"error"},et=tt,at=Object(h["a"])(et,X,Z,!1,null,null,null),it=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"adminNewArticle"}}},[t._v(" Ajouter un article ")]),a("h1",[t._v(" "+t._s(t.error)+" ")]),a("div",{staticClass:"uk-grid",attrs:{"data-ukgrid":""}},t._l(t.articles,(function(e){return a("div",{key:e.id,staticClass:"uk-width-2-3@m"},[a("h4",{staticClass:"uk-heading-line uk-text-bold"},[a("span",[t._v(t._s(e.category.name))])]),a("article",{staticClass:"uk-section uk-section-small uk-padding-remove-top"},[a("div",[a("h2",{staticClass:"uk-margin-remove-adjacent uk-text-bold uk-margin-small-bottom"},[a("a",{staticClass:"uk-link-reset",attrs:{title:"Fusce facilisis tempus magna ac dignissim.",href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"uk-article-meta"},[t._v("Article publié le : "+t._s(t.format_date(e.createdAt)))])]),a("figure",[a("img",{staticClass:"lazy",attrs:{src:e.image_name,"data-src":e.image_name,width:"800",height:"300",alt:e.image_name,"data-uk-img":""}}),a("figcaption",{staticClass:"uk-padding-small uk-text-center uk-text-muted"},[t._v("Caption of the image")])]),a("p",[t._v(" "+t._s(e.description)+" ")]),a("router-link",{staticClass:"uk-button uk-button-default uk-button-small",attrs:{to:{name:"adminShowArticle",params:{id:e.id}}}},[t._v(" Lire l'article ")]),a("router-link",{staticClass:"uk-button uk-button-primary uk-button-small",attrs:{to:{name:"adminEditArticle",params:{id:e.id}}}},[t._v(" Editer un article ")]),a("button",{staticClass:"uk-button uk-button-danger uk-button-small",on:{click:function(a){return t.deleteArticle(e.id)}}},[t._v("Danger")]),a("hr")],1)])})),0)],1)},st=[],nt=(a("a4d3"),a("e01a"),function(){function t(){Object(T["a"])(this,t)}return Object(U["a"])(t,[{key:"getArticles",value:function(){return N.a.get(i["a"].prototype.$hostName+"/admin/articles",{headers:{Authorization:i["a"].prototype.$token.getItem("auth-token")}})}},{key:"showArticle",value:function(t){return this.id=t,N.a.get(i["a"].prototype.$hostName+"/admin/article/"+t,{headers:{Authorization:i["a"].prototype.$token.getItem("auth-token")}})}},{key:"addArticle",value:function(t,e,a,r,s){this.image=t,this.category=e,this.content=a,this.published=r,this.title=s;var n=new FormData;return n.append("authorization",i["a"].prototype.$token.getItem("auth-token")),n.append("image",this.image),n.append("category",this.category),n.append("description",this.content),n.append("published",this.published),n.append("title",this.title),n.append("Content-Type","multipart/form-data"),N.a.post(i["a"].prototype.$hostName+"/admin/articles",n)}},{key:"editArticle",value:function(t,e,a,r,s,n){this.image=t,this.category=e,this.description=a,this.published=r,this.title=s,this.id=n;var o=new FormData;return o.append("image",this.image),o.append("category",this.category),o.append("description",this.description),o.append("published",this.published),o.append("title",this.title),o.append("_method","PUT"),N.a.post(i["a"].prototype.$hostName+"/admin/article/"+n,o,{headers:{authorization:i["a"].prototype.$token.getItem("auth-token")}})}},{key:"deleteArticle",value:function(t){return this.id=t,N.a.delete(i["a"].prototype.$hostName+"/admin/article/"+t,{headers:{authorization:i["a"].prototype.$token.getItem("auth-token")}})}}]),t}()),ot=new nt,lt={name:"ArticleAdmin",data:function(){return{articles:null,error:null}},created:function(){document.title="Liste des articles"},mounted:function(){var t=this;q.checkLogin(),ot.getArticles().then((function(e){e.data&&200===e.status?t.articles=e.data:t.error="Problème serveur"})).catch((function(e){500===e.response.status?(localStorage.removeItem("auth-token"),t.$router.push("/")):403===e.response.status&&t.$router.push("/")}))},methods:{format_date:function(t){if(t){var e=new Date(t),a=e.getFullYear(),i=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours(),n=e.getMinutes();return i+"/"+r+"/"+a+" à "+s+":"+(n<10?"0":"")+n}},deleteArticle:function(t){var e=this;ot.deleteArticle(t).then((function(t){204===t.status&&ot.getArticles().then((function(t){t.data&&200===t.status?e.articles=t.data:e.error="Problème serveur"})).catch((function(t){500===t.response.status?(localStorage.removeItem("auth-token"),e.$router.push("/")):403===t.response.status&&e.$router.push("/")}))})).catch((function(t){alert(t.response.data)}))}}},ut=lt,ct=Object(h["a"])(ut,rt,st,!1,null,null,null),dt=ct.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{enctype:"multipart/form-data",method:"post"},on:{submit:function(e){return e.preventDefault(),t.sendForm(e)}}},[a("fieldset",{staticClass:"uk-fieldset"},[a("legend",{staticClass:"uk-legend"},[t._v("Ajouter un article")]),a("div",{staticClass:"uk-margin"},[a("label",{attrs:{for:"category"}},[t._v(" Liste des catégorie ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"uk-select",attrs:{id:"category",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"uk-margin"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"Titre de l'article"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"uk-margin"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"uk-textarea",attrs:{rows:"5",placeholder:"Contenu de l'article"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("div",{staticClass:"uk-margin uk-grid-small uk-child-width-auto uk-grid"},[a("label",[t._v("Publier l'article")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.published,expression:"published"}],staticClass:"uk-radio",attrs:{type:"radio",name:"radio2"},domProps:{value:1,checked:t._q(t.published,1)},on:{change:function(e){t.published=1}}}),t._v(" Oui")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.published,expression:"published"}],staticClass:"uk-radio",attrs:{type:"radio",name:"radio2"},domProps:{value:0,checked:t._q(t.published,0)},on:{change:function(e){t.published=0}}}),t._v(" Non")])]),a("div",{staticClass:"uk-margin",attrs:{"uk-margin":""}},[a("div",{attrs:{"uk-form-custom":"target: true"}},[a("input",{attrs:{type:"file"},on:{change:t.onFileChange}}),a("input",{staticClass:"uk-input uk-form-width-medium",attrs:{type:"text",placeholder:"Choisir une image",disabled:""}})])]),t._m(0)])])])},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin"},[a("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v(" Ajouter l'article ")])])}],ht=function(){function t(){Object(T["a"])(this,t)}return Object(U["a"])(t,[{key:"getCategories",value:function(){return N.a.get(i["a"].prototype.$hostName+"/admin/categories",{headers:{Authorization:i["a"].prototype.$token.getItem("auth-token")}})}}]),t}(),gt=new ht,ft={name:"NewArticle",data:function(){return{categories:null,title:null,description:null,published:null,image:null,category:null}},created:function(){document.title="Ajouter un article"},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.image=e[0])},sendForm:function(){var t=this;ot.addArticle(this.image,this.category,this.description,this.published,this.title).then((function(e){window.console.log(e),201===e.status&&t.$router.push("/admin")})).catch((function(t){window.console.log(t)}))}},mounted:function(){var t=this;q.checkLogin(),gt.getCategories().then((function(e){t.categories=e.data})).catch((function(e){500===e.status?(localStorage.removeItem("auth-token"),t.$router.push("/")):(e.status,t.$router.push("/"))}))}},vt=ft,kt=Object(h["a"])(vt,mt,pt,!1,null,null,null),_t=kt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{enctype:"multipart/form-data",method:"post"},on:{submit:function(e){return e.preventDefault(),t.sendForm(e)}}},[a("fieldset",{staticClass:"uk-fieldset"},[a("legend",{staticClass:"uk-legend"},[t._v("Ajouter un article")]),a("div",{staticClass:"uk-margin"},[a("label",{attrs:{for:"category"}},[t._v(" Liste des catégorie ")]),t.isLoading?a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"uk-select",attrs:{id:"category",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()]),t.isLoading?a("div",{staticClass:"uk-margin"},[a("label",{attrs:{for:"title"}},[t._v("Titre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"uk-input",attrs:{id:"title",type:"text",placeholder:"Titre de l'article"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]):t._e(),t.isLoading?a("div",{staticClass:"uk-margin"},[a("label",{attrs:{for:"description"}},[t._v("description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"uk-textarea",attrs:{id:"description",rows:"5",placeholder:"Contenu de l'article"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]):t._e(),t.isLoading?a("div",{staticClass:"uk-margin uk-grid-small uk-child-width-auto uk-grid"},[a("label",[t._v("Publier l'article")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.published,expression:"published"}],staticClass:"uk-radio",attrs:{type:"radio",name:"radio2"},domProps:{value:1,checked:t._q(t.published,1)},on:{change:function(e){t.published=1}}}),t._v(" Oui ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.published,expression:"published"}],staticClass:"uk-radio",attrs:{type:"radio",name:"radio2"},domProps:{value:0,checked:t._q(t.published,0)},on:{change:function(e){t.published=0}}}),t._v(" Non ")])]):t._e(),a("div",[t.isLoading?a("figure",[a("h1",[t._v("Image de l'article")]),a("img",{staticClass:"lazy",attrs:{src:t.article.image_name,"data-src":t.article.image_name,width:"800",height:"300",alt:t.article.image_name,"data-uk-img":""}}),a("figcaption",{staticClass:"uk-padding-small uk-text-center uk-text-muted"},[t._v("Caption of the image")])]):t._e()]),a("div",{staticClass:"uk-margin",attrs:{"uk-margin":""}},[a("div",{attrs:{"uk-form-custom":"target: true"}},[a("input",{attrs:{type:"file"},on:{change:t.onFileChange}}),a("input",{staticClass:"uk-input uk-form-width-medium",attrs:{type:"text",placeholder:"Choisir une image",disabled:""}})])]),t._m(0)])])])},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin"},[a("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v(" Modifier l'article ")])])}],yt={name:"EditArticle",data:function(){return{categories:null,title:null,description:null,published:null,image:null,category:null,article:null,isLoading:!1}},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.image=e[0])},sendForm:function(){var t=this;ot.editArticle(this.image,this.category,this.description,this.published,this.title,this.$route.params.id).then((function(e){200===e.status&&t.$router.push("/admin")})).catch((function(t){window.console.log(t)}))}},mounted:function(){var t=this;q.checkLogin(),gt.getCategories().then((function(e){t.categories=e.data})).catch((function(e){500===e.status?(localStorage.removeItem("auth-token"),t.$router.push("/")):(e.status,t.$router.push("/"))})),ot.showArticle(this.$route.params.id).then((function(e){t.isLoading=!0,t.article=e.data,!0===e.data.published?t.published=1:t.published=0,t.category=e.data.category.id,t.title=e.data.title,t.description=e.data.description}))}},wt=yt,xt=Object(h["a"])(wt,bt,Ct,!1,null,null,null),$t=xt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoading?a("h1",[t._v(" "+t._s(t.article.title)+" ")]):t._e(),t.isLoading?a("p",{staticClass:"uk-article-meta"},[t._v(" Article publié le : "+t._s(t.format_date(t.article.created_at))+" dans la catégorie : "+t._s(t.article.category.name)+" ")]):t._e(),t.isLoading?a("p",[t._v(" "+t._s(t.article.description)+" ")]):t._e(),a("figure",[t.isLoading?a("img",{staticClass:"lazy",attrs:{src:t.article.image_name,"data-src":t.article.image_name,width:"800",height:"300",alt:t.article.image_name,"data-uk-img":""}}):t._e(),a("figcaption",{staticClass:"uk-padding-small uk-text-center uk-text-muted"},[t._v("Caption of the image")])])])},Et=[],Pt={name:"Show",data:function(){return{article:null,isLoading:!1}},mounted:function(){var t=this;ot.showArticle(this.$route.params.id).then((function(e){t.isLoading=!0,t.article=e.data,document.title=e.data.title}))},methods:{format_date:function(t){if(t){var e=new Date(t),a=e.getFullYear(),i=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours(),n=e.getMinutes();return i+"/"+r+"/"+a+" à "+s+":"+(n<10?"0":"")+n}}}},Ot=Pt,jt=Object(h["a"])(Ot,At,Et,!1,null,null,null),Nt=jt.exports,St=[{path:"/articles",component:I,name:"articles"},{path:"/login",component:K,name:"login"},{path:"/register",component:Q,name:"register"},{path:"/",component:I,name:"home"},{path:"/admin",component:dt,name:"adminArticle"},{path:"/admin/article/new",component:_t,name:"adminNewArticle"},{path:"/admin/article/:id/edit",component:$t,name:"adminEditArticle"},{path:"/admin/article/:id/show",component:Nt,name:"adminShowArticle"},{path:"/*",component:it,name:"error"}];i["a"].use(E["a"]);var Lt=new E["a"]({mode:"history",routes:St}),Ft=Lt;i["a"].config.productionTip=!1,i["a"].prototype.$token=localStorage,i["a"].prototype.$hostName="https://127.0.0.1:8000/api",new i["a"]({router:Ft,render:function(t){return t(A)}}).$mount("#app")},"85ec":function(t,e,a){},f30e:function(t,e,a){"use strict";var i=a("0ea0"),r=a.n(i);r.a}});
//# sourceMappingURL=app.a99de9c8.js.map